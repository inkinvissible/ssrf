<!DOCTYPE html>
<html>
<head>
  <title>SSRF Test Revisado</title>
</head>
<body>
  <script>
    window.onload = function() {
      const webhookUrl = 'https://webhook.site/7cdc61db-d2f3-4e50-aab4-9744f57a2a32';

      // Intento 1: Usando Image
      const img = new Image();
      img.onload = () => console.log('Imagen cargada exitosamente');
      img.onerror = () => console.log('Error al cargar la imagen (esto es normal)');
      img.src = webhookUrl + '?source=img_tag&time=' + Date.now();

      // Intento 2: Usando iframe
      const iframe = document.createElement('iframe');
      iframe.style.display = 'none';
      iframe.src = webhookUrl + '?source=iframe&time=' + Date.now();
      document.body.appendChild(iframe);

      // Intento 3: Usando script tag
      const script = document.createElement('script');
      script.src = webhookUrl + '?source=script_tag&time=' + Date.now();
      document.body.appendChild(script);

      // Intento 4: Usando XMLHttpRequest (fallará debido a CORS, pero intentémoslo)
      var xhr = new XMLHttpRequest();
      xhr.open('GET', webhookUrl + '?source=xhr&time=' + Date.now(), true);
      xhr.onload = function() {
        console.log('XHR respuesta:', xhr.responseText);
      };
      xhr.onerror = function() {
        console.log('XHR error (esto es esperado debido a CORS)');
      };
      xhr.send();

      console.log('Intentos de conexión realizados. Verifica tu webhook para ver si se registraron las solicitudes.');
    }
  </script>
</body>
</html>
